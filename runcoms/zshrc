#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto. https://github.com/sorin-ionescu/prezto
if [[ -s "${ZDOTDIR:-$HOME}/dotfiles/prezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/dotfiles/prezto/init.zsh"
fi

# Zsh Online help
unalias run-help
autoload run-help
HELPDIR=/usr/local/share/zsh/help

# fzf https://github.com/junegunn/fzf
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# z https://github.com/rupa/z
[ -f ~/z/z.sh ] && source ~/z/z.sh

# fnm https://github.com/Schniz/fnm
eval "$(fnm env --multi --use-on-cd)"

# npmbin instead of global node modules https://github.com/Schniz/fnm/issues/109
yg() {
  cd $HOME/npmbin
  yarn add $@
  cd -
}

# Setting ag as the default source for fzf
# export FZF_DEFAULT_COMMAND='ag -g ""'
export FZF_DEFAULT_COMMAND='rg --files --no-ignore-vcs --hidden'

# To apply the command to CTRL-T as well
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"

# Base16 Shell
BASE16_SHELL="$HOME/.config/base16-shell/"
[ -n "$PS1" ] && \
    [ -s "$BASE16_SHELL/profile_helper.sh" ] && \
        eval "$("$BASE16_SHELL/profile_helper.sh")"
